type UserData = record {
    referralCode: text;
    referralCount: nat;
    points: nat;
    totalDataScraped: nat;
    referredBy: opt principal;
};

service : {
    awardPoints: (principal, nat) -> (variant { ok; err: text });
    generateCode: () -> (text);
    getReferralCode: () -> (variant { ok: text; err: text });
    getUserData: () -> (variant { ok: UserData; err: text });
    useReferralCode: (text) -> (variant { ok: text; err: text });
}